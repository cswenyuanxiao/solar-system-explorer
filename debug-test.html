<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Solar System Explorer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .lang-btn { background: #0B3D91; color: white; }
        .theme-btn { background: #28a745; color: white; }
        #status {
            background: #333;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ Debug Test Page</h1>
    
    <div class="test-section">
        <h2>è¯­è¨€åˆ‡æ¢æµ‹è¯•</h2>
        <button id="lang-test" class="lang-btn">
            <span id="debug-flag">ğŸ‡ºğŸ‡¸</span>
            <span id="debug-name">English</span>
        </button>
        <div id="status">å½“å‰è¯­è¨€: <span id="current-lang">--</span></div>
    </div>
    
    <div class="test-section">
        <h2>ä¸»é¢˜åˆ‡æ¢æµ‹è¯•</h2>
        <button id="theme-test" class="theme-btn">
            <span id="theme-icon">ğŸŒ™</span>
            <span id="theme-name">Dark Mode</span>
        </button>
        <div id="status">å½“å‰ä¸»é¢˜: <span id="current-theme">--</span></div>
    </div>
    
    <div class="test-section">
        <h2>æµ‹è¯•å†…å®¹</h2>
        <p data-i18n="test_content">è¿™æ˜¯æµ‹è¯•å†…å®¹</p>
        <p data-i18n="hero_title">æ¢ç´¢æˆ‘ä»¬çš„å¤ªé˜³ç³»</p>
    </div>
    
    <div class="test-section">
        <h2>è®¿é—®ä¸»é¡µ</h2>
        <a href="pages/index.html" style="color: #FFD700;">ç‚¹å‡»è®¿é—®ä¸»é¡µ</a>
    </div>

    <!-- æ ¸å¿ƒJSæ–‡ä»¶ -->
    <script src="js/languages.js?v=20250107"></script>
    <script src="js/theme-manager.js?v=20250107"></script>
    
    <script>
        // ç¿»è¯‘æ•°æ®ï¼ˆç®€åŒ–ç‰ˆï¼‰
        const TEST_TRANSLATIONS = {
            zh: {
                'test_content': 'è¿™æ˜¯ä¸­æ–‡æµ‹è¯•å†…å®¹',
                'hero_title': 'æ¢ç´¢æˆ‘ä»¬çš„å¤ªé˜³ç³»'
            },
            en: {
                'test_content': 'This is English test content',
                'hero_title': 'EXPLORE OUR SOLAR SYSTEM'
            }
        };
        
        // è°ƒè¯•å‡½æ•°
        function updateDebugStatus() {
            if (window.languageManager) {
                const lang = window.languageManager.getCurrentLanguage();
                document.getElementById('current-lang').textContent = `${lang.code} (${lang.name})`;
                
                // æ›´æ–°æŒ‰é’®æ˜¾ç¤º
                const nextLang = lang.code === 'zh' ? 'en' : 'zh';
                const nextLangData = {
                    zh: { flag: 'ğŸ‡¨ğŸ‡³', name: 'ä¸­æ–‡' },
                    en: { flag: 'ğŸ‡ºğŸ‡¸', name: 'English' }
                };
                
                document.getElementById('debug-flag').textContent = nextLangData[nextLang].flag;
                document.getElementById('debug-name').textContent = nextLangData[nextLang].name;
            }
            
            if (window.themeManager) {
                const theme = window.themeManager.getCurrentTheme();
                document.getElementById('current-theme').textContent = theme.name;
                document.getElementById('theme-icon').textContent = theme.icon === 'â˜€ï¸' ? 'ğŸŒ™' : 'â˜€ï¸';
                document.getElementById('theme-name').textContent = theme.name === 'Light' ? 'Dark Mode' : 'Light Mode';
            }
        }
        
        // æµ‹è¯•è¯­è¨€åˆ‡æ¢
        document.getElementById('lang-test').addEventListener('click', () => {
            if (window.languageManager) {
                const newLang = window.languageManager.currentLanguage === 'en' ? 'zh' : 'en';
                window.languageManager.setLanguage(newLang);
                
                // æ‰‹åŠ¨ç¿»è¯‘æµ‹è¯•å†…å®¹
                document.querySelectorAll('[data-i18n]').forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    const translation = TEST_TRANSLATIONS[newLang][key];
                    if (translation) {
                        element.textContent = translation;
                    }
                });
                
                updateDebugStatus();
            }
        });
        
        // æµ‹è¯•ä¸»é¢˜åˆ‡æ¢
        document.getElementById('theme-test').addEventListener('click', () => {
            if (window.themeManager) {
                window.themeManager.toggleTheme();
                updateDebugStatus();
            }
        });
        
        // ç›‘å¬å˜åŒ–äº‹ä»¶
        document.addEventListener('languageChanged', updateDebugStatus);
        document.addEventListener('themeChanged', updateDebugStatus);
        
        // åˆå§‹åŒ–
        setTimeout(updateDebugStatus, 1000);
    </script>
</body>
</html>