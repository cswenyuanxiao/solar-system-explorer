<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Explorer - NASA</title>
    <link rel="stylesheet" href="../css/style.css?v=20250109">
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#0B3D91">
</head>
<body>
    <header class="header">
        <!-- Shared header will be dynamically injected here by shared-header.js -->
    </header>

    <main class="main">
        <!-- Hero Section -->
        <section class="hero">
            <h2 class="hero__title" data-i18n="hero_title">EXPLORE OUR SOLAR SYSTEM</h2>
            <p class="hero__subtitle" data-i18n="hero_subtitle">Journey through the planets, moons, and celestial bodies that make up our cosmic neighborhood. Discover the latest NASA missions and scientific discoveries.</p>
        </section>

        <!-- Featured Missions -->
        <section class="featured-section">
            <h3 class="section__title" data-i18n="featured_title">FEATURED MISSIONS</h3>
            <div class="card-grid">
                <div class="card">
                    <img src="../images/sun.jpg" alt="The Sun" class="card__image">
                    <div class="card__content">
                        <h4 class="card__title" data-i18n="sun">THE SUN</h4>
                        <p class="card__description" data-i18n="sun_desc">Our star - the heart of the solar system</p>
                        <a href="sun.html" class="card__link" data-i18n="explore_button">EXPLORE SUN</a>
                    </div>
                </div>
                <div class="card">
                    <img src="../images/earth.jpg" alt="Earth" class="card__image">
                    <div class="card__content">
                        <h4 class="card__title" data-i18n="earth">EARTH</h4>
                        <p class="card__description" data-i18n="earth_desc">Our home planet - the blue marble</p>
                        <a href="earth.html" class="card__link" data-i18n="explore_button">EXPLORE EARTH</a>
                    </div>
                </div>
                <div class="card">
                    <img src="../images/mars.jpg" alt="Mars" class="card__image">
                    <div class="card__content">
                        <h4 class="card__title" data-i18n="mars">MARS</h4>
                        <p class="card__description" data-i18n="mars_desc">The red planet - future human destination</p>
                        <a href="mars.html" class="card__link" data-i18n="explore_button">EXPLORE MARS</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- All Planets Grid -->
        <section id="planets" class="planets-section">
            <h3 class="section__title">EXPLORE ALL PLANETS</h3>
            <div class="card-grid">
                <div class="card">
                    <img src="../images/sun.jpg" alt="The Sun" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="sun">THE SUN</h2>
                        <p class="card__description" data-i18n="sun_desc">Our star - the heart of the solar system</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/mercury.jpg" alt="Mercury" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="mercury">MERCURY</h2>
                        <p class="card__description" data-i18n="mercury_desc">The smallest planet, closest to the Sun</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/venus.jpg" alt="Venus" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="venus">VENUS</h2>
                        <p class="card__description" data-i18n="venus_desc">The hottest planet, Earth's twin</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/earth.jpg" alt="Earth" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="earth">EARTH</h2>
                        <p class="card__description" data-i18n="earth_desc">Our home planet, the blue marble</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/mars.jpg" alt="Mars" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="mars">MARS</h2>
                        <p class="card__description" data-i18n="mars_desc">The red planet, future human destination</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/jupiter.jpg" alt="Jupiter" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="jupiter">JUPITER</h2>
                        <p class="card__description" data-i18n="jupiter_desc">The largest planet, gas giant</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/saturn.jpg" alt="Saturn" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="saturn">SATURN</h2>
                        <p class="card__description" data-i18n="saturn_desc">The ringed planet, most beautiful</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/uranus.jpg" alt="Uranus" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="uranus">URANUS</h2>
                        <p class="card__description" data-i18n="uranus_desc">The ice giant, tilted on its side</p>
                    </div>
                </div>

                <div class="card">
                    <img src="../images/neptune.jpg" alt="Neptune" class="card__image">
                    <div class="card__content">
                        <h2 class="card__title" data-i18n="neptune">NEPTUNE</h2>
                        <p class="card__description" data-i18n="neptune_desc">The windiest planet, deep blue</p>
                    </div>
                </div>
        </section>

        <!-- Mission Info Section -->
        <section class="mission-info">
            <h3 data-i18n="about_mission">ABOUT THIS MISSION</h3>
            <p data-i18n="mission_description">This Solar System Explorer provides an interactive journey through our cosmic neighborhood, featuring real-time data from NASA's missions and the latest discoveries in planetary science. Explore detailed information about each celestial body, view stunning imagery, and discover the latest scientific findings.</p>
        </section>
    </main>

    <footer>
        <p data-i18n="footer_text">&copy; 2024 Solar System Explorer. All images and data from NASA. Exploring the universe through science and discovery.</p>
    </footer>

    <!-- ✅ 添加：必要的JavaScript文件 -->
    <script src="../js/planet-data.js?v=20250109"></script>
    <script src="../js/languages.js?v=20250109"></script>
    <script src="../js/shared-header.js?v=20250109"></script>
    <script src="../js/favorites.js?v=20250109"></script>
    <script src="../js/accessibility.js?v=20250109"></script>
    <script src="../js/theme-manager.js?v=20250109"></script>
    <script src="../js/social-sharing.js?v=20250109"></script>
    <script src="../js/main-integration.js?v=20250109"></script>
    <script src="../js/app.js?v=20250109"></script>
    <script src="../js/lazy-loading.js?v=20250109"></script>
    <script src="../js/loading-manager.js?v=20250109"></script>
    <script>
        // Service Worker 注册
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('../sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
        
        // PWA 安装提示
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showInstallPromotion();
        });
        
        function showInstallPromotion() {
            if (deferredPrompt) {
                const installBtn = document.createElement('button');
                installBtn.textContent = '📱 Install App';
                installBtn.className = 'install-btn';
                installBtn.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    left: 20px;
                    background: var(--nasa-blue, #0B3D91);
                    color: white;
                    border: none;
                    padding: 1rem 2rem;
                    border-radius: 8px;
                    font-weight: 600;
                    cursor: pointer;
                    z-index: 1000;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                `;
                
                installBtn.addEventListener('click', async () => {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log('User response to the install prompt: ', outcome);
                    deferredPrompt = null;
                    installBtn.remove();
                });
                
                document.body.appendChild(installBtn);
            }
        }
    </script>
</body>
</html>